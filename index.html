<!DOCTYPE html>
<html>
    <head>
        <title>Card Validator</title>
        <link href = "css/styles.css" rel = "stylesheet">
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
    </head>
    
    <body>
        
        <script>
            $(document).ready(function(){
                $("#number").keyup(function(){
                    var nstring = $('#number').val();
                    var n = Number(nstring);
                    if ( isNaN(n) || (n < 1000000000000000) || (n > 9999999999999999) ) {
                        $("p").css("color","red");
                        $("p#answer").text("The number is NOT valid");
                    }
                    
                    else {
                        var evendigit = false;
                        var DigitSum = 0;
                                                                    
                        while ( n > 0 ) {
                            var LastDigit = n % 10;
                            if (evendigit) {
                                LastDigit = LastDigit * 2;
                                
                                if (LastDigit > 9) {
                                    LastDigit = (LastDigit % 10) + 1;
                                }
                            }
                            
                            DigitSum = DigitSum + LastDigit;
                            
                            if (evendigit) {
                                evendigit = false;
                            } 
                            else {
                                evendigit = true;
                            }
                            n = parseInt(n/10);
                        }
                        
                        if (DigitSum % 10 == 0) {
                            $("p").css("color","#48bc48");
                            $("p#answer").text("The number is valid!");
                        }
                        
                        else {
                            $("p").css("color","red");
                            $("p#answer").text("The number is NOT valid");
                        }                     
                    }
                });
            })
        </script>
        
        <div>
            <center><h3>Please enter the card number:</h3></center>
            <center><input type="text" id="number"  /></center>
            <center><p id="answer"></p></center>
        </div>
        
    </body>
</html>